{% load static %}
{% load i18n %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.72.0">
    <title>CSA Systems</title>

    {#    <link rel="canonical" href="https://v5.getbootstrap.com/docs/5.0/examples/dashboard/">#}


    <!-- Bootstrap 5 core CSS -->
    <link href="{% static 'bootstrap_5_0_alpha/css/bootstrap.css' %}" rel="stylesheet">

    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>


    <!-- Custom styles for this template -->
    <link href="{% static 'csa/csa.css' %}" rel="stylesheet">
</head>
<body>

<nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-md-3 col-lg-2 mr-0 px-3" href="#">OmniComm PRO</a>
    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-toggle="collapse"
            data-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <input class="form-control form-control-dark w-100" type="text" placeholder="Search" aria-label="Search">
    <ul class="navbar-nav px-3">
        <li class="nav-item text-nowrap">
            <a class="nav-link" href="{%  url 'logout' %}">{% trans 'Выход' %}</a>
        </li>
    </ul>
</nav>

<div class="container-fluid">
    <div class="row">
        <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
            <div class="position-sticky pt-3">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            {#                            <span data-feather="file"></span>#}
                            <button id="btn_1c" class="btn btn-danger w-100">No date с 1с, req?</button>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            {#                            <span data-feather="file"></span>#}
                            <button id="btn_online" class="btn btn-danger w-100">No date с online, req?</button>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" {# aria-current="page" #} id="pills-home-tab" data-toggle="pill"
                           href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true">
                            <span data-feather="home"></span>
                            1c Data Table
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" iid="pills-profile-tab" data-toggle="pill" href="#pills-profile" role="tab"
                           aria-controls="pills-profile" aria-selected="false">
                            <span data-feather="file"></span>
                            Online Date
                        </a>
                    </li>
                    <li class="nav-item">
                        <hr>
                    </li>
                    <li class="nav-item">
                        <p class="nav-link">
                            <span class="a-center" data-feather="shopping-cart"></span>
                            Отчеты:
                        </p>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span data-feather="users"></span>
                            Нет id (не корректный)
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span data-feather="bar-chart-2"></span>
                            Нет актуальных счетов
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span data-feather="layers"></span>
                            Есть в Online, Нет в 1с
                        </a>
                    </li>
                </ul>


            </div>
            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"
                style="position: absolute; bottom: 0">
                <span>По состоянию: NONE</span>
                <a class="link-secondary" href="#" aria-label="Add a new report">
                    <span data-feather="plus-circle"></span>
                </a>
            </h6>
        </nav>

        <main class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="h2">Dashboard</h1>
                <div class="btn-toolbar mb-2 mb-md-0">
                    <div class="btn-group mr-2">
                        <button type="button" class="btn btn-sm btn-outline-secondary">Контроль</button>
                        <button type="button" class="btn btn-sm btn-outline-secondary">Экспорт</button>
                        <button type="button" class="btn btn-sm btn-outline-secondary">Обновить</button>
                    </div>
                    <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle">
                        <span data-feather="calendar"></span>
                        This week
                    </button>
                </div>
            </div>
            <div class="tab-content" id="pills-tabContent">
                <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                    <h2>Данные из 1с</h2>
                    <div class="table-responsive">
                        <table class="table table-striped table-sm">
                            <thead class="text-center">
                            <tr>
                                <th rowspan="2" class="b_line">Организация</th>
                                <th rowspan="2" class="b_line">Партнер</th>
                                <th rowspan="2" class="b_line">ИНН</th>
                                <th rowspan="2" class="b_line">ТС</th>
                                <th rowspan="2" class="b_line">ГосНомер</th>
                                <th rowspan="2" class="b_line">ИД</th>
                                {#                        <th rowspan="2" class="b_line">Server_login</th>#}
                                <th rowspan="2" class="b_line">Активно</th>
                                {#                        <th rowspan="2" class="b_line">Блокировка с</th>#}
                                <th colspan="3">Начисления</th>
                                <th colspan="2">Счет</th>
                            </tr>
                            <style>
                                .b_line {
                                    border-bottom-color: currentColor;
                                }
                            </style>
                            <tr>

                                <th>Номер</th>
                                <th>Дата</th>
                                <th>Сумма</th>
                                <th>Номер</th>
                                <th>Дата</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="b_line text-center">

                                <td>1</td>
                                <td>2</td>
                                <td>3</td>
                                <td>4</td>
                                <td>5</td>
                                <td>6</td>
                                <td>7</td>
                                <td>8</td>
                                <td>9</td>
                                <td>10</td>
                                <td>11</td>
                                <td>12</td>
                            </tr>

                            {% for el in list_1c %}
                                <tr>
                                    <td>{{ el.org }}</td>
                                    <td>{{ el.part }}</td>
                                    <td>{{ el.inn }}</td>
                                    <td>{{ el.auto }}</td>
                                    <td>{{ el.a_number }}</td>
                                    <td>{{ el.id }}</td>
                                    <td>{{ el.isActive }}</td>
                                    <td>{{ el.num_nach }}</td>
                                    <td>{{ el.date_nach }}</td>
                                    <td>{{ el.sum_nach }}</td>
                                    <td>{{ el.num_pay }}</td>
                                    <td>{{ el.date_pay }}</td>
                                </tr>

                            {% empty %}


                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
                    <h2>Данные из Online</h2>
                    <div class="table-responsive">
                        <table class="table table-striped table-sm">
                            <thead>

                            <tr class="text-center">

                                <th>ID</th>
                                <th>Номер</th>
                                <th>Логин </th>
                                <th>IMEI</th>
                                <th>Сотовый номер</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="b_line text-center">

                                <td>1</td>
                                <td>2</td>
                                <td>3</td>
                                <td>4</td>
                                <td>5</td>
                            </tr>

                            {% for el in list_online %}
                                <tr>
                                    <td>{{ el.vehicleID }}</td>
                                    <td>{{ el.vehicleName }}</td>
                                    <td>{{ el.serverLogin }}</td>
                                    <td>{{ el.IMEI }}</td>
                                    <td>{{ el.Sot_number }}</td>
                                </tr>

                            {% empty %}


                            {% endfor %}


                            </tbody>
                        </table>
                    {%  for string in table %}

                    {% endfor %}
                    </div></div></div>
        </main>
    </div>
</div>


<script src="{% static 'bootstrap_5_0_alpha/js/bootstrap.min.js' %}"></script>
<script src="{% static 'dashC/js/core/jquery-3.5.1.min.js' %}"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.24.1/feather.min.js"
        integrity="sha384-EbSscX4STvYAC/DxHse8z5gEDaNiKAIGW+EpfzYTfQrgIlHywXXrM9SUIZ0BlyfF"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"
        integrity="sha384-i+dHPTzZw7YVZOx9lbH5l6lP74sLRtMtwN2XjVqjf3uAGAREAF4LMIUDTWEVs4LI"
        crossorigin="anonymous"></script>
<script src="{% static 'csa/csa.js' %}"></script>
{% if list_1c_size != 0 %}
    <script>
        $('#btn_1c').text('1c: {{ list_1c_size }} объектов');
        $('#btn_1c').removeClass('btn-danger');
        $('#btn_1c').addClass('btn-success');
        {#$('#btn_1c').css('background-color','green');#}
    </script>
{% endif %}
{% if list_online_size != 0 %}
    <script>
        $('#btn_online').text('Online: {{ list_1c_size }} объектов');
        $('#btn_online').removeClass('btn-danger');
        $('#btn_online').addClass('btn-success');
        {#$('#btn_1c').css('background-color','green');#}
    </script>
{% endif %}
</body>
</html>
